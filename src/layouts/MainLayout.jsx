import { Outlet } from 'react-router';
import NavBar from '../components/NavBar.jsx';
import "../App.css";
import { useState, useEffect } from "react";

function MainLayout() {


  // Load items in shop
  const testItems = [
    {
      id: 1,
      title: "Backpack",
      price: 10.0,
      description: "A nice backpack",
      category: "accessories",
      rating: { rate: 4.5, count: 10 },
      image:
        "data:image/webp;base64,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",
    },
    {
      id: 2,
      title: "Star Wars Book",
      price: 15.0,
      description: "A book about Star Wars",
      category: "books",
      rating: { rate: 4.0, count: 5 },
      image:
        "https://exlibris.azureedge.net/covers/9798/2170/9098/3/9798217090983xxl.webp",
    },
    {
      id: 3,
      title: "Artefact",
      price: 20.0,
      description: "An ancient artefact",
      category: "collectibles",
      rating: { rate: 5.0, count: 2 },
      image:
        "data:image/jpeg;base64,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",
    },
  ];
  
  
  
  //const shopItems = testItems;
   const [shopItems, setShopItems] = useState(null);
   const [error, setError] = useState(null);
   const [loading, setLoading] = useState(true);

   useEffect(() => {
     fetch("https://fakestoreapi.com/products", {
       headers: {
         "User-Agent": "Andreas Shop",
       },
     })
       .then((response) => {
         if (response.status >= 400) {
           throw new Error("server error");
         }
         return response.json();
       })
       .then((response) => setShopItems(response))
       .catch((error) => setError(error))
       .finally(() => setLoading(false));
   }, []);

 

  // Items in cart
  const initialCartItems = {};
  const [cartItems, setCartItems] = useState(initialCartItems);

  // Function to add items (or remove)
  const addToCart = (item, times) => {
    setCartItems((prevCart) => {
      const id = item.id;
      return {
        ...prevCart,
        [id]: Math.max(0, prevCart[id] ? prevCart[id] + times : times),
      };
    });
  };

  // Function to reset number of items
  const setItemInCart = (item, times) => {
    setCartItems((prevCart) => {
      const id = item.id;
      return {
        ...prevCart,
        [id]: Math.max(0,times),
      };
    });
  };

  // Function to count number of each item in cart
  const countItemInCart = (id) => {
    return cartItems[id] ? cartItems[id] : 0;
  };

  return (
    <div className="allPage">
      <NavBar cartItems={cartItems} countItemInCart={countItemInCart} />
      <Outlet
        context={{
          error,
          loading,
          shopItems,
          cartItems,
          setCartItems,
          addToCart,
          setItemInCart,
          countItemInCart,
        }}
      />
    </div>
  );
}

export default MainLayout;
